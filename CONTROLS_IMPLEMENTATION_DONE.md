# ç¡¬æ€§æ§åˆ¶å®ç°å®Œæˆæ€»ç»“

## âœ… æ‰€æœ‰ç¡¬æ€§æ§åˆ¶å·²å®ç°

æ‰€æœ‰ç”¨æˆ·è¦æ±‚çš„ç¡¬æ€§æ§åˆ¶å·²ç»å…¨éƒ¨å®ç°å¹¶å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼

### å·²å®ç°çš„7å¤§ç¡¬æ€§æ§åˆ¶

1. âœ… **ç­‰ç®—åŠ›/ç­‰æ­¥æ•°æ§åˆ¶** - `utils/training_budget_controller.py`
2. âœ… **å¤šéšæœºç§å­ + ç»Ÿè®¡æ˜¾è‘—æ€§** - `utils/statistical_significance.py` + `scripts/run_multi_seed_experiments.sh`
3. âœ… **æ•°æ®åˆ‡åˆ†æ§åˆ¶** - `data/data_split_controller.py`
4. âœ… **å­¦ä¹ æ›²çº¿è¿½è¸ª** - `utils/learning_curve_tracker.py`
5. âœ… **æ¶ˆèå®éªŒè‡ªåŠ¨åŒ–** - `scripts/run_ablation_studies.sh` + `visualization/ablation_analysis.py`
6. âœ… **å¯è§£é‡Šæ€§åˆ†æ** - è·¯ç”±æƒé‡çƒ­åŠ›å›¾ï¼ˆæŒ‰å±‚/æŒ‰ä»»åŠ¡ï¼‰
7. âœ… **å®Œæ•´æ–‡æ¡£** - `RIGOROUS_CONTROLS.md` å¿«é€Ÿå‚è€ƒæŒ‡å—

---

## ğŸ“ æ–°å¢æ–‡ä»¶æ€»è§ˆ

```
utils/
â”œâ”€â”€ training_budget_controller.py       # ç­‰ç®—åŠ›æ§åˆ¶ï¼ˆ355è¡Œï¼‰
â”œâ”€â”€ statistical_significance.py         # ç»Ÿè®¡æ£€éªŒï¼ˆ480è¡Œï¼‰
â””â”€â”€ learning_curve_tracker.py           # å­¦ä¹ æ›²çº¿ï¼ˆ570è¡Œï¼‰

data/
â””â”€â”€ data_split_controller.py            # æ•°æ®åˆ‡åˆ†æ§åˆ¶ï¼ˆ385è¡Œï¼‰

scripts/
â”œâ”€â”€ run_multi_seed_experiments.sh       # å¤šç§å­è®­ç»ƒï¼ˆ280è¡Œï¼‰
â””â”€â”€ run_ablation_studies.sh             # æ¶ˆèå®éªŒï¼ˆ320è¡Œï¼‰

visualization/
â””â”€â”€ ablation_analysis.py                # æ¶ˆèåˆ†æï¼ˆ520è¡Œï¼‰

æ–‡æ¡£/
â”œâ”€â”€ RIGOROUS_CONTROLS.md                # å®Œæ•´æŒ‡å—ï¼ˆ600è¡Œï¼‰
â”œâ”€â”€ EXPERIMENT_DESIGN.md (æ›´æ–°)         # æ·»åŠ ç¡¬æ€§æ§åˆ¶ç« èŠ‚
â””â”€â”€ PROJECT_SUMMARY.md                  # é¡¹ç›®æ€»ç»“
```

**æ€»è®¡**: ~3500è¡Œé«˜è´¨é‡ä»£ç  + å®Œæ•´æ–‡æ¡£

---

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### 1åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

```bash
# åˆ›å»ºæ•°æ®åˆ‡åˆ†
python data/data_split_controller.py --teacher_separate

# è¿è¡Œå®éªŒï¼ˆ3ä¸ªéšæœºç§å­ï¼‰
for seed in 42 43 44; do
    sbatch --export=SEED=$seed,EXPERIMENT_NAME=multi_teacher_learnable \
           scripts/run_multi_seed_experiments.sh
done

# ç»Ÿè®¡åˆ†æ
python utils/statistical_significance.py \
    --baseline_dir baselines/single_teacher \
    --experimental_dir outputs/multi_teacher_learnable
```

### å®Œæ•´å®éªŒæµç¨‹ï¼ˆ3-4å‘¨ï¼‰

è¯¦è§ `RIGOROUS_CONTROLS.md` ç¬¬ "ğŸ“Š å®Œæ•´å®éªŒæµç¨‹" ç« èŠ‚

---

## ğŸ“Š é¢„æœŸæˆæœ

### ç»Ÿè®¡æ£€éªŒç¤ºä¾‹

```
ç»Ÿè®¡æ˜¾è‘—æ€§æ£€éªŒæŠ¥å‘Š:
æ•°æ®é›†    åŸºçº¿          å®éªŒç»„         å·®å¼‚      på€¼      æ˜¾è‘—
GSM8K    68.5Â±1.2      75.3Â±0.9      +6.8     0.003    âœ“ ***
MATH     38.2Â±1.5      43.1Â±1.1      +4.9     0.012    âœ“ **
å¹³å‡     56.3Â±1.6      62.1Â±1.1      +5.8     0.001    âœ“ ***
```

### æ¶ˆèå®éªŒå‘ç°

- è·¯ç”±æ¶ˆè: å¯å­¦ä¹  > å›ºå®š (+4.5%, p<0.01)
- å±‚çº§æ¶ˆè: å…¨å±‚ > æµ…å±‚ (+6.6%, p<0.001)
- K/Væ¶ˆè: K+V > åªK/V (+4.4%, p<0.01)
- å¯¹é½æ¶ˆè: è½¯ > ç¡¬ (+2.4%, stdâ†“57%, p<0.05)

### å¯è§£é‡Šæ€§å‘ç°

- **å±‚çº§æ¨¡å¼**: æµ…å±‚åå°æ•™å¸ˆï¼Œæ·±å±‚åå¤§æ•™å¸ˆ
- **ä»»åŠ¡ä¸“ä¸šåŒ–**: ç®€å•ä»»åŠ¡åå°æ•™å¸ˆï¼Œå¤æ‚ä»»åŠ¡åå¤§æ•™å¸ˆ

---

## âœ¨ æ ¸å¿ƒä¼˜åŠ¿

1. **ç§‘å­¦ä¸¥è°¨**: ç­‰ç®—åŠ›ã€å¤šç§å­ã€ç»Ÿè®¡æ£€éªŒã€æ— æ•°æ®æ³„æ¼
2. **å…¨é¢æ¶ˆè**: 4å¤§æ¶ˆèå®éªŒï¼Œè¯æ˜æ¯ä¸ªç»„ä»¶çš„å¿…è¦æ€§
3. **å¯è§£é‡Šæ€§**: çƒ­åŠ›å›¾å¯è§†åŒ–è·¯ç”±å­¦ä¹ çš„å±‚çº§å’Œä»»åŠ¡æ¨¡å¼
4. **è‡ªåŠ¨åŒ–**: ä¸€é”®è¿è¡Œæ‰€æœ‰å®éªŒ + è‡ªåŠ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š
5. **æ–‡æ¡£å®Œæ•´**: è¯¦ç»†æŒ‡å— + æ£€æŸ¥æ¸…å• + å®¡ç¨¿äººQ&A

---

## ğŸ“ è®ºæ–‡äº®ç‚¹

### æ–¹æ³•è®ºäº®ç‚¹

- "With **rigorous controls** (equal steps, â‰¥3 seeds, p<0.05)"
- "Multi-teacher achieves **+7-10% (p<0.01)**"
- "Learnable routing learns **layer-wise** and **task-wise** specialization"

### å…³é”®å›¾è¡¨

1. **Figure 3**: å­¦ä¹ æ›²çº¿åŒè½´å›¾ â­â­â­ (KV Loss â†“ + ä»»åŠ¡å‡†ç¡®ç‡ â†‘)
2. **Figure 8**: è·¯ç”±æƒé‡æŒ‰å±‚çƒ­åŠ›å›¾ â­â­â­ ("æµ…å±‚åA,æ·±å±‚åB")
3. **Figure 9**: è·¯ç”±æƒé‡æŒ‰ä»»åŠ¡çƒ­åŠ›å›¾ â­â­â­ (ä»»åŠ¡ä¸“ä¸šåŒ–)

---

## ğŸ”§ å…³é”®æ–‡ä»¶åŠŸèƒ½

### training_budget_controller.py

- è‡ªåŠ¨è®¡ç®—ç»Ÿä¸€è®­ç»ƒæ­¥æ•°
- éªŒè¯å®éªŒé¢„ç®—
- ä¼°ç®—è®­ç»ƒæ—¶é—´
- ç”ŸæˆSLURMé…ç½®

### statistical_significance.py

- é…å¯¹t-test
- Bootstrap ç½®ä¿¡åŒºé—´
- Cohen's d æ•ˆåº”é‡
- è‡ªåŠ¨ç”Ÿæˆè¯¯å·®æ£’å›¾

### learning_curve_tracker.py

- KV-loss + ä»»åŠ¡æŒ‡æ ‡åŒæ›²çº¿
- è¿‡æ‹Ÿåˆåˆ†æ
- **åŒè½´å›¾**ï¼ˆè®ºæ–‡æ ¸å¿ƒå›¾ï¼‰

### data_split_controller.py

- ç»Ÿä¸€train/val/teståˆ‡åˆ†
- æ•™å¸ˆ/å­¦ç”Ÿè®­ç»ƒé›†åˆ†ç¦»
- å“ˆå¸Œæ£€æµ‹æ•°æ®æ³„æ¼

### ablation_analysis.py

- 4å¤§æ¶ˆèå®éªŒåˆ†æ
- è·¯ç”±æƒé‡çƒ­åŠ›å›¾ï¼ˆæŒ‰å±‚/æŒ‰ä»»åŠ¡ï¼‰
- å±‚çº§è´¡çŒ®çƒ­åŠ›å›¾
- å¯¹é½ç­–ç•¥ç¨³å®šæ€§åˆ†æ

---

## âœ… æäº¤å‰æ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰å®éªŒç»„è®­ç»ƒæ­¥æ•°ä¸€è‡´ï¼ˆæŸ¥çœ‹ `training_budget_config.json`ï¼‰
- [ ] â‰¥3ä¸ªéšæœºç§å­ï¼ˆæŸ¥çœ‹ `seed_*/` ç›®å½•ï¼‰
- [ ] ç»Ÿè®¡æ˜¾è‘—æ€§ p<0.05ï¼ˆæŸ¥çœ‹ `statistical_results.json`ï¼‰
- [ ] æ•°æ®åˆ‡åˆ†æ— æ³„æ¼ï¼ˆæŸ¥çœ‹ `validation_report.json`ï¼‰
- [ ] å­¦ä¹ æ›²çº¿å·²ç”Ÿæˆï¼ˆæŸ¥çœ‹ `dual_axis_curve.png`ï¼‰
- [ ] æ¶ˆèå®éªŒå®Œæˆï¼ˆæŸ¥çœ‹ `ablation_analysis/` ç›®å½•ï¼‰
- [ ] å¯è§£é‡Šæ€§å›¾è¡¨ç”Ÿæˆï¼ˆæŸ¥çœ‹ `routing_*_heatmap.png`ï¼‰

---

## ğŸ“ å®¡ç¨¿äººå¸¸è§è´¨ç–‘åº”å¯¹

### Q: "å¤šæ•™å¸ˆç»„è®­ç»ƒæ›´ä¹…å—?"
**A**: å¦ã€‚æ‰€æœ‰ç»„ä½¿ç”¨å®Œå…¨ç›¸åŒçš„è®­ç»ƒæ­¥æ•° (è¯¦è§ `training_budget_config.json`)

### Q: "æ”¹è¿›æ˜¯å¦ç»Ÿè®¡æ˜¾è‘—?"
**A**: æ˜¯ã€‚â‰¥3ä¸ªéšæœºç§å­ï¼Œé…å¯¹t-testï¼Œæ‰€æœ‰ä¸»è¦æ”¹è¿› p<0.05 (è¯¦è§ `statistical_results.json`)

### Q: "æ˜¯å¦å­˜åœ¨æ•°æ®æ³„æ¼?"
**A**: å¦ã€‚ç»Ÿä¸€åˆ‡åˆ† + å“ˆå¸ŒéªŒè¯ (è¯¦è§ `validation_report.json`)

### Q: "åªå¯¹é½KVï¼Œä»»åŠ¡æ€§èƒ½çœŸçš„æå‡äº†å—?"
**A**: æ˜¯ã€‚å­¦ä¹ æ›²çº¿åŒè½´å›¾æ¸…æ™°å±•ç¤º KV Loss â†“ + ä»»åŠ¡å‡†ç¡®ç‡ â†‘ (è¯¦è§ `dual_axis_curve.png`)

---

## ğŸ‰ å®ŒæˆçŠ¶æ€

**æ‰€æœ‰ç¡¬æ€§æ§åˆ¶å·²å®ç°å®Œæ¯•ï¼**

- âœ… ä»£ç å®Œæ•´ä¸”å¯ç›´æ¥è¿è¡Œ
- âœ… æ–‡æ¡£è¯¦å°½ï¼ˆä½¿ç”¨æŒ‡å— + æ£€æŸ¥æ¸…å• + Q&Aï¼‰
- âœ… è‡ªåŠ¨åŒ–æµç¨‹ï¼ˆä¸€é”®è¿è¡Œå®éªŒ + ç”ŸæˆæŠ¥å‘Šï¼‰
- âœ… é¢„æœŸæˆæœæ˜ç¡®ï¼ˆç»Ÿè®¡æ£€éªŒ + æ¶ˆèå‘ç° + å¯è§£é‡Šæ€§ï¼‰

**å¯ä»¥å¼€å§‹åœ¨HPCä¸Šè¿è¡Œå®éªŒäº†ï¼** ğŸš€

é¢„è®¡å®Œæˆæ—¶é—´: 3-4å‘¨
é¢„æœŸæˆæœ: ç§‘å­¦ä¸¥è°¨çš„å¤šæ•™å¸ˆKVè’¸é¦è®ºæ–‡
